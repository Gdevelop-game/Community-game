var gdjs;(function(l){let g;(function(f){let y;(function(i){i.sendAsyncRequest=function(e,t,r,s,c,u){const o=n=>{u.setString(""+n)};try{const n=new XMLHttpRequest;n.onerror=o,n.ontimeout=o,n.onabort=o,n.onreadystatechange=()=>{n.readyState===4&&(n.status>=400&&o(""+n.status),c.setString(n.responseText))},n.open(r,e),n.setRequestHeader("Content-Type",s===""?"application/x-www-form-urlencoded":s),n.send(t)}catch(n){o(n)}},i.sendDeprecatedSynchronousRequest=function(e,t,r,s,c,u){try{let o;if(typeof XMLHttpRequest!="undefined")o=new XMLHttpRequest;else{const n=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"];for(let a=0,S=n.length;a<S;a++)try{o=new ActiveXObject(n[a]);break}catch(X){}}if(o===void 0)return;o.open(s,e+t,!1),o.setRequestHeader("Content-Type",c===""?"application/x-www-form-urlencoded":c),o.send(r),u.setString(o.responseText)}catch(o){}},i.enableMetrics=function(e,t){e.getGame().enableMetrics(t)},i.variableStructureToJSON=function(e){if(e.isPrimitive())return JSON.stringify(e.getValue());if(e.getType()==="array"){let t="[",r=!0;const s=e.getAllChildren();for(const c in s)s.hasOwnProperty(c)&&(r||(t+=","),t+=i.variableStructureToJSON(s[c]),r=!1);return t+="]",t}else if(e.getType()==="structure"){let t="{",r=!0;const s=e.getAllChildren();for(const c in s)s.hasOwnProperty(c)&&(r||(t+=","),t+=JSON.stringify(c)+": "+i.variableStructureToJSON(s[c]),r=!1);return t+="}",t}return console.error("JSON conversion error: Variable type not recognized"),""},i.objectVariableStructureToJSON=function(e,t){return l.evtTools.network.variableStructureToJSON(t)},i._objectToVariable=function(e,t){if(e===null)t.setString("null");else if(typeof e=="number")Number.isNaN(e)?(console.warn("Variables cannot be set to NaN, setting it to 0."),t.setNumber(0)):t.setNumber(e);else if(typeof e=="string")t.setString(e);else if(typeof e!="undefined")if(typeof e=="boolean")t.setBoolean(e);else if(Array.isArray(e)){t.castTo("array"),t.clearChildren();for(const s in e)i._objectToVariable(e[s],t.getChild(s))}else if(typeof e=="object"){t.castTo("structure"),t.clearChildren();for(var r in e)e.hasOwnProperty(r)&&i._objectToVariable(e[r],t.getChild(r))}else typeof e=="symbol"?t.setString(e.toString()):typeof e=="bigint"?(e>Number.MAX_SAFE_INTEGER&&console.warn("Integers bigger than "+Number.MAX_SAFE_INTEGER+" aren't supported by variables, it will be reduced to that size."),t.setNumber(parseInt(e,10))):typeof e=="function"?console.error("Error: Impossible to set variable value to a function."):console.error("Cannot identify type of object:",e)},i.jsonToVariableStructure=function(e,t){if(e.length===0)return!1;try{const r=JSON.parse(e);return l.evtTools.network._objectToVariable(r,t),!0}catch(r){return!1}},i.jsonToObjectVariableStructure=function(e,t,r){l.evtTools.network.jsonToVariableStructure(e,r)}})(y=f.network||(f.network={}))})(g=l.evtTools||(l.evtTools={}))})(gdjs||(gdjs={}));
//# sourceMappingURL=networktools.js.map
